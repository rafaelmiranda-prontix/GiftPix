services:
  - type: web
    name: giftpix-api
    env: node
    plan: starter
    buildCommand: npm install && npm run prisma:generate --workspace @giftpix/infra && npm run build --workspace @giftpix/api
    startCommand: node apps/api/dist/server.js
    envVars:
      - key: NODE_ENV
        value: production
      # defina PORT se quiser fixar; Render injeta automaticamente
      # - key: PORT
      #   value: 3000
      # providers / DB / secrets devem ser configurados no dashboard do Render
    healthCheckPath: /api/health
    autoDeploy: true

